<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>New Tab</title>
  <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
  <div id="app">
    <!-- Chrome-style Top Bar with Tabs -->
    <div class="chrome-topbar">
      <!-- Tab Strip -->
      <div class="chrome-tabs" id="tabStrip">
        <div class="chrome-tab chrome-tab-active" data-tab-id="0">
          <div class="chrome-tab-favicon">
            <svg width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="7" fill="#e8eaed"/></svg>
          </div>
          <div class="chrome-tab-title">New Tab</div>
          <div class="chrome-tab-close">
            <svg width="16" height="16" viewBox="0 0 16 16"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
          </div>
        </div>
        <div class="chrome-tab-add" id="newTabBtn" title="New tab (Ctrl+T)">
          <svg width="16" height="16" viewBox="0 0 16 16"><path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </div>
      </div>

      <!-- Window Controls Area -->
      <div class="chrome-window-controls">
        <button class="chrome-profile" id="profileBtn" title="Profile">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </button>
        <button class="chrome-menu-btn" id="chromeMenuBtn" title="Customize and control">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <circle cx="12" cy="5" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="19" r="2"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Chrome-style Navigation Bar -->
    <div class="chrome-navbar">
      <!-- Navigation Buttons -->
      <button class="chrome-nav-btn" id="backBtn" disabled title="Back (Alt+Left)">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      </button>
      <button class="chrome-nav-btn" id="forwardBtn" disabled title="Forward (Alt+Right)">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
        </svg>
      </button>
      <button class="chrome-nav-btn" id="refreshBtn" title="Reload (Ctrl+R)">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
      </button>
      <button class="chrome-nav-btn" id="homeBtn" title="Home">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
      </button>

      <!-- Chrome Omnibox -->
      <div class="chrome-omnibox" id="omniboxContainer">
        <div class="chrome-omnibox-icon" id="siteInfo">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" class="security-icon">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
          </svg>
        </div>
        <input 
          type="text" 
          class="chrome-omnibox-input" 
          id="omnibox"
          placeholder="Search Google or type a URL"
          autocomplete="off"
          spellcheck="false"
        />
        <div class="chrome-omnibox-actions">
          <button class="chrome-omnibox-btn" id="voiceSearchBtn" title="Search with voice">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
            </svg>
          </button>
          <button class="chrome-omnibox-btn" id="bookmarkBtn" title="Bookmark (Ctrl+D)">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" class="bookmark-icon">
              <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"/>
            </svg>
          </button>
        </div>

        <!-- Omnibox Suggestions Dropdown -->
        <div class="chrome-suggestions" id="omniboxSuggestions">
          <!-- Populated by JS -->
        </div>
      </div>

      <!-- Right-side Actions -->
      <div class="chrome-toolbar-actions">
        <button class="chrome-toolbar-btn" id="extensionsBtn" title="Extensions">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"/>
          </svg>
        </button>
        <button class="chrome-toolbar-btn chrome-has-badge" id="downloadsBtn" title="Downloads (Ctrl+J)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
          <span class="chrome-badge" id="downloadsBadge" style="display: none;">0</span>
        </button>
      </div>
    </div>

    <!-- Content Area -->
    <div class="chrome-content">
      <!-- Main WebView Area -->
      <div class="chrome-webview-container" id="primaryPane">
        <!-- Webviews inserted here by JS -->
      </div>

      <!-- Split View (Secondary Pane) -->
      <div class="chrome-webview-container chrome-secondary-pane hidden" id="secondaryPane">
        <div class="chrome-pane-header">
          <span class="chrome-pane-title">Split View</span>
          <button class="chrome-pane-close" id="closeSplit">×</button>
        </div>
        <div class="chrome-webview">
          <div class="chrome-placeholder">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor" opacity="0.3">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 14H9V7h2v10zm6 0h-2V7h2v10z"/>
            </svg>
            <p>Split view</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Chrome-style Bookmarks Bar (Optional) -->
    <div class="chrome-bookmarks-bar" id="bookmarksBar" style="display: none;">
      <div class="chrome-bookmark-item" data-folder="true">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
        </svg>
        <span>Bookmarks</span>
      </div>
      <div class="chrome-bookmark-overflow">»</div>
    </div>

    <!-- Sidebar Panel (Slide-out from right like Chrome DevTools) -->
    <div class="chrome-sidebar-panel hidden" id="sidebarPanel">
      <div class="chrome-sidebar-header">
        <div class="chrome-sidebar-tabs" id="sidebarTabs">
          <button class="chrome-sidebar-tab active" data-panel="bookmarks">Bookmarks</button>
          <button class="chrome-sidebar-tab" data-panel="history">History</button>
          <button class="chrome-sidebar-tab" data-panel="downloads">Downloads</button>
          <button class="chrome-sidebar-tab" data-panel="reading-list">Reading List</button>
        </div>
        <button class="chrome-sidebar-close" id="closeSidebar">×</button>
      </div>
      <div class="chrome-sidebar-content">
        <!-- Panel content populated by JS -->
        <div class="chrome-sidebar-pane active" id="bookmarksPane">
          <div class="chrome-search-box">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input type="text" placeholder="Search bookmarks" class="chrome-sidebar-search" id="bookmarkSearch">
          </div>
          <div class="chrome-sidebar-list" id="bookmarksList">
            <!-- Populated by JS -->
          </div>
        </div>
        <div class="chrome-sidebar-pane" id="historyPane">
          <div class="chrome-search-box">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input type="text" placeholder="Search history" class="chrome-sidebar-search" id="historySearch">
          </div>
          <div class="chrome-sidebar-list" id="historyList">
            <!-- Populated by JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Chrome Menu Popup -->
    <div class="chrome-menu hidden" id="chromeMenu">
      <div class="chrome-menu-section">
        <div class="chrome-menu-item" id="newTabMenu">
          <span class="chrome-menu-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
          </span>
          <span class="chrome-menu-text">New tab</span>
          <span class="chrome-menu-shortcut">Ctrl+T</span>
        </div>
        <div class="chrome-menu-item" id="newWindowMenu">
          <span class="chrome-menu-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
              <path d="M11 21H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h6v2H5v14h6v2zm10.59-9.41l-1.42-1.42-5 5.02V3h-2v12.19l-5-5.02-1.42 1.42L14 18.84l7.59-7.25z"/>
            </svg>
          </span>
          <span class="chrome-menu-text">New window</span>
          <span class="chrome-menu-shortcut">Ctrl+N</span>
        </div>
        <div class="chrome-menu-item" id="newIncognitoMenu">
          <span class="chrome-menu-icon">🕶️</span>
          <span class="chrome-menu-text">New Incognito window</span>
          <span class="chrome-menu-shortcut">Ctrl+Shift+N</span>
        </div>
      </div>
      <div class="chrome-menu-divider"></div>
      <div class="chrome-menu-section">
        <div class="chrome-menu-item" id="historyMenu">
          <span class="chrome-menu-icon">🕒</span>
          <span class="chrome-menu-text">History</span>
          <span class="chrome-menu-shortcut">Ctrl+H</span>
        </div>
        <div class="chrome-menu-item" id="downloadsMenu">
          <span class="chrome-menu-icon">⬇️</span>
          <span class="chrome-menu-text">Downloads</span>
          <span class="chrome-menu-shortcut">Ctrl+J</span>
        </div>
        <div class="chrome-menu-item" id="bookmarksMenu">
          <span class="chrome-menu-icon">⭐</span>
          <span class="chrome-menu-text">Bookmarks</span>
          <span class="chrome-menu-shortcut">Ctrl+Shift+B</span>
        </div>
      </div>
      <div class="chrome-menu-divider"></div>
      <div class="chrome-menu-section">
        <div class="chrome-menu-item" id="findMenu">
          <span class="chrome-menu-icon">🔍</span>
          <span class="chrome-menu-text">Find...</span>
          <span class="chrome-menu-shortcut">Ctrl+F</span>
        </div>
        <div class="chrome-menu-item" id="printMenu">
          <span class="chrome-menu-icon">🖨️</span>
          <span class="chrome-menu-text">Print...</span>
          <span class="chrome-menu-shortcut">Ctrl+P</span>
        </div>
        <div class="chrome-menu-item chrome-menu-item-submenu" id="moreToolsMenu">
          <span class="chrome-menu-icon">🔧</span>
          <span class="chrome-menu-text">More tools</span>
          <span class="chrome-menu-arrow">›</span>
        </div>
      </div>
      <div class="chrome-menu-divider"></div>
      <div class="chrome-menu-section">
        <div class="chrome-menu-item" id="settingsMenu">
          <span class="chrome-menu-icon">⚙️</span>
          <span class="chrome-menu-text">Settings</span>
        </div>
        <div class="chrome-menu-item" id="helpMenu">
          <span class="chrome-menu-icon">❓</span>
          <span class="chrome-menu-text">Help</span>
        </div>
      </div>
    </div>

    <!-- Command Palette (Cmd+K / Ctrl+K) -->
    <div class="chrome-command-palette hidden" id="commandPalette">
      <div class="chrome-command-dialog">
        <div class="chrome-command-search">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
          <input type="text" placeholder="Type a command or search..." class="chrome-command-input" id="commandSearch">
        </div>
        <div class="chrome-command-results" id="commandResults">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>

    <!-- Tab Overview (Ctrl+Shift+O) -->
    <div class="chrome-tab-overview hidden" id="tabOverview">
      <div class="chrome-overview-header">
        <h2>All tabs</h2>
        <button class="chrome-overview-close" id="closeOverview">×</button>
      </div>
      <div class="chrome-overview-grid" id="tabOverviewGrid">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- Settings Page (Overlays content) -->
    <div class="chrome-settings-page hidden" id="settingsPage">
      <div class="chrome-settings-sidebar">
        <div class="chrome-settings-logo">
          <h2>Settings</h2>
        </div>
        <nav class="chrome-settings-nav">
          <a href="#" class="chrome-settings-nav-item active" data-section="appearance">Appearance</a>
          <a href="#" class="chrome-settings-nav-item" data-section="search-engine">Search engine</a>
          <a href="#" class="chrome-settings-nav-item" data-section="on-startup">On startup</a>
          <a href="#" class="chrome-settings-nav-item" data-section="privacy">Privacy and security</a>
          <a href="#" class="chrome-settings-nav-item" data-section="autofill">Autofill and passwords</a>
          <a href="#" class="chrome-settings-nav-item" data-section="downloads">Downloads</a>
          <a href="#" class="chrome-settings-nav-item" data-section="languages">Languages</a>
          <a href="#" class="chrome-settings-nav-item" data-section="system">System</a>
          <a href="#" class="chrome-settings-nav-item" data-section="advanced">Advanced</a>
        </nav>
      </div>
      <div class="chrome-settings-content">
        <button class="chrome-settings-back" id="closeSettings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
          </svg>
        </button>
        <div class="chrome-settings-section active" id="appearanceSection">
          <h1>Appearance</h1>
          <div class="chrome-settings-group">
            <h3>Theme</h3>
            <select class="chrome-settings-select" id="themeSelect">
              <option value="light">Light</option>
              <option value="dark">Dark</option>
              <option value="auto">System default</option>
            </select>
          </div>
          <div class="chrome-settings-group">
            <h3>Font size</h3>
            <div class="chrome-settings-slider">
              <span>Small</span>
              <input type="range" min="10" max="20" value="14" id="fontSizeSlider">
              <span>Large</span>
              <span class="chrome-settings-value" id="fontSizeValue">14px</span>
            </div>
          </div>
          <div class="chrome-settings-group">
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="showBookmarksBar">
              <span>Show bookmarks bar</span>
            </label>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="showHomeButton" checked>
              <span>Show home button</span>
            </label>
          </div>
        </div>
        <div class="chrome-settings-section" id="privacySection">
          <h1>Privacy and security</h1>
          <div class="chrome-settings-group">
            <h3>Cookies and other site data</h3>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="blockThirdPartyCookies" checked>
              <span>Block third-party cookies</span>
            </label>
          </div>
          <div class="chrome-settings-group">
            <h3>Security</h3>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="safeBrowsing" checked>
              <span>Enhanced protection</span>
            </label>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="httpsOnly" checked>
              <span>Always use secure connections</span>
            </label>
          </div>
          <div class="chrome-settings-group">
            <h3>Privacy</h3>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="doNotTrack" checked>
              <span>Send a "Do Not Track" request</span>
            </label>
            <label class="chrome-settings-checkbox">
              <input type="checkbox" id="blockTrackers" checked>
              <span>Block trackers and ads</span>
            </label>
          </div>
        </div>
        <!-- More sections populated by JS -->
      </div>
    </div>

    <!-- Privacy Badge (Floating notification) -->
    <div class="chrome-privacy-badge hidden" id="privacyBadge">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
      </svg>
      <span id="privacyBadgeText">2 trackers blocked</span>
    </div>

    <!-- Toast Notifications -->
    <div class="chrome-toast-container" id="toastContainer"></div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
